<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>showhide_test</title>

    <style>
        .dragme{
          width: 60px;
          position: absolute;
          height: 100px;
          background: cyan;
          top: 100px;
          display: flex;
        }

        .croix{
          padding-left: 20px;
        }

        #trigger{
          width: 200px;
          position: absolute;
          height: 60px;
          top: 10px;
          left: 600px;
          background: red;
        }
    </style>
  </head>

  <body>
    <div id="trigger" onclick="affichercacher()">
      apparition/disparition
    </div>

    <div class="dragme" style="left:30px;">
      1
      <div class="croix">X</div>
    </div>

    <div class="dragme" style="left:100px;">
      2
      <div class="croix">X</div>
    </div>


    <div class="dragme" style="left:180px;">
      3
      <div class="croix">X</div>
    </div>

    <div class="dragme" style="left:270px;">
      4
      <div class="croix">X</div>
    </div>

    <div class="dragme" style="left:380px;">
      5
      <div class="croix">X</div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <script>
      function affichercacher() {
        var elements = document.querySelectorAll('.dragme');
        var element;
        var hidden = !!Array.prototype.find.call(elements, function(element) {
          return element.style.display === 'none'
        });
        var display = hidden ? 'flex' : 'none';
        for(var i = 0; i < elements.length; i++) elements[i].style.display = display;
      }

      $('.croix').on('click', function() {
        $(this).parent().css('display', 'none');
      });
    </script>
  </body>
</html>
